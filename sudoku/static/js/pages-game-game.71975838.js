(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-game-game"],{"0341":function(t,e,a){"use strict";a.r(e);var r=a("1e4c"),i=a("6882");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("60d3");var n,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"975a204a",null,!1,r["a"],n);e["default"]=c.exports},"1e4c":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return r}));var r={uniGrid:a("cc03").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[a("v-uni-view",{staticClass:"bg"}),a("v-uni-view",{staticClass:"top_bar"},[a("v-uni-text",{staticClass:"level"},[t._v("Level: "+t._s(t.scene+1+"-"+(t.index+1)))]),a("v-uni-text",{staticClass:"time"},[t._v(t._s(t.formatSeconds()))]),a("v-uni-view",{class:t.isPause?"play":"pause",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.onPauseClick.apply(void 0,arguments)}}})],1),a("uni-grid",{staticClass:"grid",attrs:{column:9,showBorder:!1}}),a("uni-grid",{staticClass:"grid_key",attrs:{column:5,showBorder:!1}}),a("v-uni-button",{staticClass:"help",attrs:{"open-type":"share"}},[t._v("题目太难？求助好友>")])],1)},o=[]},"27ad":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIAQAAAAB9lo7qAAAAAnRSTlMAAHaTzTgAAAAVSURBVHgBYxiswP4PEA1a1ihrkAIARa1nXZrzcQQAAAAASUVORK5CYII="},"3ddb":function(t,e,a){var r=a("a107");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=a("4f06").default;i("1785e3a0",r,!0,{sourceMap:!1,shadowMode:!1})},"60d3":function(t,e,a){"use strict";var r=a("3ddb"),i=a.n(r);i.a},6882:function(t,e,a){"use strict";a.r(e);var r=a("8795"),i=a.n(r);for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},8795:function(t,e,a){"use strict";var r=a("4ea4");a("c975"),a("a434"),a("e25e"),a("ac1f"),a("1276"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=r(a("1da1")),o=r(a("cc03")),n=r(a("fe5f")),s=a("d049"),c=a("a3b3"),d={components:{uniGrid:o.default,uniGridItem:n.default},data:function(){return{data_orign:"398724106465319280127568349846952713273841695519673428051287934734195862982436571",data:"",data_select:"1234567890",mapSame:[],selectIndex:2,level:0,scene:0,time:0,index:0,item_class:[],isPause:!1,modal:!1,isFromShare:!1}},onLoad:function(t){this.scene=parseInt(t.scene),this.index=parseInt(t.index),this.startGame();var e=getCurrentPages();if(e.length>=2){e[e.length-2];this.isFromShare=!1}else this.isFromShare=!0},methods:{closeModal:function(){this.modal=!1,setTimeout((function(){}),100)},onPauseClick:function(t){this.isPause=!this.isPause,this.modal=this.isPause;var e=this;this.isPause?(this.clearTimer(),uni.showModal({title:"暂停",content:"休息一会吧😄",cancelText:"关闭",confirmText:"继续游戏",success:function(t){t.confirm?(e.isPause=!1,e.onresume()):t.cancel&&uni.navigateBack({})}})):this.onresume()},formatSeconds:function(){return s.formatSeconds(this.time)},selectItemClass:function(t){var e=this.item_class[parseInt(t)];return e},refresh_item_class:function(){for(var t=[],e=0;e<81;e++)t.push(this.refresh_item_class_obj(e));this.item_class=t},refresh_item_class_1:function(t){var e=["text"];if(parseInt(this.data_orign[t])>0?e.push(this.selectIndex==t?"text_select":"text_orign"):e.push(this.selectIndex==t?"text_select":"text"),parseInt(this.data[this.selectIndex])>0&&this.data[this.selectIndex]==this.data[t]&&e.push("text_same"),this.mapSame&&this.mapSame.length>0)for(var a in this.mapSame){var r=this.mapSame[a];r.length>0&&r.indexOf(t)>=0&&e.push("text_error")}var i=Math.floor(t/9),o=t%9;return i%3==0?e.push("border_top_bold"):e.push("border_top"),o%3==0?e.push("border_left_bold"):e.push("border_left"),8==i?e.push("border_bottom_bold"):e.push("border_bottom"),8==o?e.push("border_right_bold"):e.push("border_right"),console.log(e),e},refresh_item_class_obj:function(t){var e="text";if(e=parseInt(this.data_orign[t])>0?e+" "+(this.selectIndex==t?"text_select":"text_orign"):e+" "+(this.selectIndex==t?"text_select":"text"),parseInt(this.data[this.selectIndex])>0&&this.data[this.selectIndex]==this.data[t]&&(e+=" text_same"),this.mapSame&&this.mapSame.length>0)for(var a in this.mapSame){var r=this.mapSame[a];r.length>0&&r.indexOf(t)>=0&&(e+=" text_error")}var i=Math.floor(t/9),o=t%9;return e+=i%3==0?" border_top_bold":" border_top",e+=o%3==0?" border_left_bold":" border_left",e+=8==i?" border_bottom_bold":" border_bottom",e+=8==o?" border_right_bold":" border_right",console.log(e),e},onClickItem:function(t){this.selectIndex=t.currentTarget.id,this.mapSame=s.getSameList(this.selectIndex,this.data),this.refresh_item_class()},startGame:function(){var t=this;this.level=80*this.scene+this.index,this.data_orign=c.getData(this.level),this.data=this.data_orign,this.refresh_item_class(),this.time=0,this.timer=setInterval((function(){t.time+=1}),1e3)},saveData:function(t,e){var a=this;return(0,i.default)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a.isFromShare){r.next=3;break}return r.next=3,c.saveScore(a.scene,t,e);case 3:case"end":return r.stop()}}),r)})))()},clearTimer:function(){this.timer&&(clearInterval(this.timer),this.timer=null)},onresume:function(){var t=this;this.timer=setInterval((function(){t.time+=1}),1e3)},onKeyClickItem:function(t){var e=this;if(this.selectIndex>=0&&0==parseInt(this.data_orign[this.selectIndex])){var a=t.currentTarget.id,r=this.data_select[a],i=this.data;i=i.split(""),i.splice(this.selectIndex,1,r),this.data=i.join(""),this.mapSame=s.getSameList(this.selectIndex,this.data);var o=s.checkWin(this.data);o&&(this.saveData(this.level,this.time),this.clearTimer(),uni.showModal({title:"恭喜过关",content:"继续加油哦😄",cancelText:"取消",confirmText:"下一关",success:function(t){t.confirm?(console.log("用户点击确定"),e.index<79?(e.index=e.index+1,e.startGame()):e.scene<4?(e.scene=e.scene+1,e.index=0,e.startGame()):uni.navigateBack({})):t.cancel&&uni.navigateBack({})}})),console.log("win : "+o)}this.refresh_item_class()},help:function(t){this.onShareAppMessage(t)},onShareAppMessage:function(t){return{title:"巅疯数独",path:"/pages/game/game?scene="+this.scene+"&index="+this.index}}}};e.default=d},"8b18":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAQAAAD/5HvMAAAA4klEQVR4Ae3YsW3CUACEYbuh9ABMEGZgCqaALWAK2IIlvAMb0NPS+FCqv4rkKIr0F3eukb6Cu2e/QZ6maZqmaZrcs83wf8/vf5K8cspoAn1nzs4FSt65ZOMAkUf2DhBZcsvkAJFnDhIQYQwkIMZAAmIMRCDGQANiDEQgxkADYgxEIMZABGIMNCDGQARiDDQgxkAEYgw0oBVjUNCSa6b+qX+o/dlU+zlfpqPjmNF3uPb1Y33B+wpLwRUgCi4AUfB+ShsvG1YUvBdWFFwBouACEAVXgHQX5396CiqooIIKKqiggj43aZNVt/wrzQAAAABJRU5ErkJggg=="},a107:function(t,e,a){var r=a("24fb"),i=a("1de5"),o=a("27ad"),n=a("8b18");e=r(!1);var s=i(o),c=i(n);e.push([t.i,".content[data-v-975a204a]{display:flex;flex-direction:column}.bg[data-v-975a204a]{position:fixed;width:100%;height:100%;background-color:#739efa}.top_bar[data-v-975a204a]{padding-top:0;display:flex;flex-direction:row;margin-left:5%;margin-right:5%;margin-bottom:%?30?%}.level[data-v-975a204a]{color:#fff;position:fixed}.time[data-v-975a204a]{width:100%;color:#fff;text-align:center;position:-webkit-sticky;position:sticky}.pause[data-v-975a204a]{width:%?50?%;height:%?50?%;position:fixed;color:#fff;right:5%;background-image:url("+s+");background-repeat:no-repeat;background-size:100% 100%}.play[data-v-975a204a]{width:%?50?%;height:%?50?%;position:fixed;color:#fff;right:5%;background-image:url("+c+");background-repeat:no-repeat;background-size:100% 100%}\n.grid_key[data-v-975a204a]{width:90%;\n\t/* height: 375upx; */margin-top:%?60?%;margin-left:5%;margin-right:5%;background-color:#ffa72b}.image_clear[data-v-975a204a]{width:%?50?%;height:%?50?%}.text[data-v-975a204a]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#b1b1b1;font-size:%?30?%;border-color:#1a1a1a;border-width:1px;background-color:#fff}.text_key[data-v-975a204a]{width:90%;height:90%;display:flex;flex-direction:row;justify-content:center;align-items:center;text-align:center;color:#1a1a1a;font-size:%?35?%;border-color:#1a1a1a;border-width:1px;margin-left:5%;margin-right:5%;margin-top:10%;background-color:#fff}.text_orign[data-v-975a204a]{color:#1a1a1a;font-weight:700}.text_same[data-v-975a204a]{color:#1a1a1a;background-color:#d9d9d9}.text_error[data-v-975a204a]{color:#fff;background-color:#f84545}.text_select[data-v-975a204a]{color:#fff;background-color:#ffa72b}.border_top_left[data-v-975a204a]{border-left:1px solid $uni-border-color;border-right:.5px solid #000;border-top:1px solid #000;border-bottom:.5px solid #000\n\n\t/* border-top-color: $uni-border-color; */}.help[data-v-975a204a]{display:flex;flex-direction:row;justify-content:center;align-items:center;color:#fff;position:fixed;bottom:%?0?%;left:0;right:0;font-size:%?28?%;background-color:#739efa;border-width:0}.border_left_bold[data-v-975a204a]{border-left:1px solid #1a1a1a}.border_top_bold[data-v-975a204a]{border-top:1px solid #1a1a1a}.border_right_bold[data-v-975a204a]{border-right:1px solid #1a1a1a}.border_bottom_bold[data-v-975a204a]{border-bottom:1px solid #1a1a1a}.border_left[data-v-975a204a]{border-left:.5px solid #b1b1b1}.border_top[data-v-975a204a]{border-top:.5px solid #b1b1b1}.border_right[data-v-975a204a]{border-right:.5px solid #b1b1b1}.border_bottom[data-v-975a204a]{border-bottom:.5px solid #b1b1b1}",""]),t.exports=e},d049:function(t,e,a){a("99af"),a("c975"),a("e25e");t.exports={getRowSame:function(t,e){var a=[],r=e[t];if("0"!=r&&""!=r)for(var i=Math.floor(t/9),o=9*i;o<9*i+9;o++)o!=t&&e[o]==r&&a.push(o);return a},getColumnSame:function(t,e){var a=[];if("0"!=r&&""!=r)for(var r=e[t],i=(Math.floor(t/9),t%9),o=i;o<80;o+=9)o!=t&&e[o]==r&&a.push(o);return a},getGridSame:function(t,e){var a=[];if("0"!=r&&""!=r)for(var r=e[t],i=Math.floor(t/9),o=t%9,n=Math.floor(i/3),s=Math.floor(o/3),c=3*n;c<3*n+3;c++)for(var d=3*s;d<3*s+3;d++){var l=9*c+d;c!=i&&d!=o&&e[l]==r&&a.push(l)}return a},getSameList:function(t,e){return this.mapSame=[],null!=e&&t>=0&&t<e.length&&"0"!=e[t]&&(this.mapSame.push(this.getRowSame(t,e)),this.mapSame.push(this.getColumnSame(t,e)),this.mapSame.push(this.getGridSame(t,e))),this.mapSame},checkFinish:function(t){return null!=t&&t.indexOf("0")<0},checkWin:function(t){return this.checkFinish(t)&&this.ismapSameNumEmpty()},ismapSameNumEmpty:function(t){var e=this.mapSame,a=!0;if(null!=e&&e.length>0)for(var r in console.log("mapSameNum"+e),e){var i=e[r];null!=i&&i.length>0&&(a=!1)}return a},formatSeconds:function(t){var e=parseInt(t),a=Math.floor(e/3600)<10?"0"+Math.floor(e/3600):Math.floor(e/3600),r=Math.floor(e/60%60)<10?"0"+Math.floor(e/60%60):Math.floor(e/60%60),i=Math.floor(e%60)<10?"0"+Math.floor(e%60):Math.floor(e%60);return e=a>0?"".concat(a,":").concat(r,":").concat(i):"".concat(r,":").concat(i),e},formatTime:function(t){return""}}}}]);